
Running 1 test using 1 worker

üß™ Testing Gemma Chat App functionality...

üì± Loading Gemma Chat App...
[Browser Console] debug: [vite] connecting...
[Browser Console] info: WebGPU is experimental on this platform. See https://github.com/gpuweb/gpuweb/wiki/Implementation-Status#implementation-status
[Browser Console] warning: Failed to create WebGPU Context Provider
[Browser Console] warning: No WebGPU adapter found, will use WASM
[Browser Console] log: üîß Using WASM runtime for compatibility
‚è≥ Waiting for model to load...
[Browser Console] debug: [vite] connected.
[Browser Console] error: Failed to load resource: the server responded with a status of 404 (Not Found)
[Browser Console] debug: [vite] connecting...
[Browser Console] log: üöÄ Model worker started
[Browser Console] debug: [vite] connected.
[Browser Console] warning: Unable to determine content-length from response headers. Will expand buffer when needed.
[Browser Console] warning: Unable to determine content-length from response headers. Will expand buffer when needed.
[Browser Console] warning: Unable to add response to browser cache: QuotaExceededError: Quota exceeded..
[Browser Console] error: Failed to initialize model: Error: no available backend found. ERR: [webgpu] Error: Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.
    at Fi (http://localhost:3001/gemma-chat-app/node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?v=073e8a0d:6:1826)
    at async e.create (http://localhost:3001/gemma-chat-app/node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?v=073e8a0d:6:19638)
    at async createInferenceSession (http://localhost:3001/gemma-chat-app/node_modules/@huggingface/transformers/dist/transformers.web.js?v=073e8a0d:2847:21)
    at async http://localhost:3001/gemma-chat-app/node_modules/@huggingface/transformers/dist/transformers.web.js?v=073e8a0d:7648:29
    at async Promise.all (index 0)
    at async constructSessions (http://localhost:3001/gemma-chat-app/node_modules/@huggingface/transformers/dist/transformers.web.js?v=073e8a0d:7645:31)
    at async Promise.all (index 0)
    at async Gemma3ForCausalLM.from_pretrained (http://localhost:3001/gemma-chat-app/node_modules/@huggingface/transformers/dist/transformers.web.js?v=073e8a0d:8446:20)
    at async AutoModelForCausalLM.from_pretrained (http://localhost:3001/gemma-chat-app/node_modules/@huggingface/transformers/dist/transformers.web.js?v=073e8a0d:15007:20)
    at async Promise.all (index 1)
[Browser Console] error: Worker error: no available backend found. ERR: [webgpu] Error: Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.
[Browser Console] error: Failed to initialize app: Error: no available backend found. ERR: [webgpu] Error: Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.
    at worker.onmessage (http://localhost:3001/gemma-chat-app/src/chatManager.ts:44:20)
‚ö†Ô∏è  Model loading timeout - checking if it loaded anyway...
üîç Checking console logs for errors...
‚úÖ No critical errors in console

Model Worker Ready: ‚ùå

üí¨ Sending test message...
‚è≥ Waiting for AI response...

üìä Test Results:
================
Total Console Logs: 16
Total Errors: 0
Critical Errors: 0
AI Messages Generated: 2

üí¨ AI Response:
================
Message 1: üëã Hello! I'm Gemma 3 270M, running entirely in your browser with automatic WebGPU/WASM fallback. Ask me anything!
Message 2: ‚ùå Error: no available backend found. ERR: [webgpu] Error: Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.

üîß Checking Fix-Related Logs:
================
AbortController mentions: ‚ÑπÔ∏è  (not triggered)
WebGPU cleanup: ‚ÑπÔ∏è  (may not show)
Message queueing: ‚ÑπÔ∏è  (not triggered)

‚úÖ All checks passed!
  ‚úì  1 [chromium] ‚Ä∫ tests/test-functionality.spec.ts:3:1 ‚Ä∫ Gemma Chat - Check console logs and model generation (3.1m)

  1 passed (3.1m)

To open last HTML report run:
[36m[39m
[36m  npx playwright show-report[39m
[36m[39m
